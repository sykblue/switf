import SwiftUI
import WebKit

struct ContentView: View {
    @State private var selectedSection: String = "ì†Œê°œ"
    @State private var code: String = "<html><body><h1>Hello, Swift!</h1></body></html>"
    @State private var htmlCode: String = ""
    
    var body: some View {
        VStack {
            MenuTabView(selectedSection: $selectedSection)
            
            ScrollView {
                VStack(alignment: .leading, spacing: 20) {
                    if selectedSection == "ì†Œê°œ" {
                        ProfileView()
                        AboutMeViewPart1()
                        AboutMeViewPart2()
                    } else if selectedSection == "ê¸°ìˆ  ìŠ¤íƒ" {
                        TechStackView()
                    } else if selectedSection == "í”„ë¡œì íŠ¸" {
                        ProjectsListView()
                    } else if selectedSection == "ì˜ˆì¬" {
                        WebCodeEditorView(code: $code, htmlCode: $htmlCode)
                    }
                }
                .padding()
            }
        }
        .padding(.horizontal)
        .background(Color(UIColor.systemBackground)) // Apple ë©”ëª¨ì¥ì²˜ëŸ¼ ë°°ê²½ì„ ê¹”ë”í•˜ê²Œ
        .navigationTitle("My Notes") // ìƒë‹¨ì— ì œëª© ì¶”ê°€
        .navigationBarTitleDisplayMode(.inline) // Apple ìŠ¤íƒ€ì¼ì˜ ë„¤ë¹„ê²Œì´ì…˜ íƒ€ì´í‹€
    }
}

struct MenuTabView: View {
    @Binding var selectedSection: String
    
    var body: some View {
        HStack(spacing: 15) {
            ForEach(["ì†Œê°œ", "ê¸°ìˆ  ìŠ¤íƒ", "í”„ë¡œì íŠ¸", "ì˜ˆì¬"], id: \.self) { section in
                Button(action: {
                    selectedSection = section
                }) {
                    Text(section)
                        .font(.headline)
                        .foregroundColor(selectedSection == section ? .blue : .primary)
                        .padding(.vertical, 8)
                        .padding(.horizontal, 12)
                        .background(selectedSection == section ? Color.blue.opacity(0.1) : Color.clear)
                        .cornerRadius(8)
                }
            }
        }
        .padding()
        .background(Color(UIColor.systemGray6))
    }
}

struct ProfileView: View {
    var body: some View {
        VStack(alignment: .leading, spacing: 10) {
            Image(systemName: "person.circle")
                .resizable()
                .frame(width: 80, height: 80)
                .foregroundColor(.blue)
            Text("ê°•ìƒìœ¤")
                .font(.largeTitle)
            Text("Frontend Developer")
                .font(.subheadline)
                .foregroundColor(.secondary)
        }
        .padding(.bottom, 20)
    }
}

struct AboutMeViewPart1: View {
    var body: some View {
        VStack(alignment: .leading, spacing: 10) {
            Text("ì›¹ ê°œë°œ")
                .font(.headline)
            Text("Hello World.")
                .font(.body)
        }
    }
}

struct AboutMeViewPart2: View {
    var body: some View {
        VStack(alignment: .leading, spacing: 10) {
            Text("ìê¸°ì†Œê°œ")
                .font(.headline)
            Text("ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” [ê°•ìƒìœ¤]ì…ë‹ˆë‹¤. í˜„ì¬ [ë°°ì¬ëŒ€í•™êµ]ì—ì„œ  í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì„ ì „ê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤. ìµœì‹  ê¸°ìˆ ê³¼ íŠ¸ë Œë“œì— ëŒ€í•œ ì—´ì •ìœ¼ë¡œ, ì‚¬ìš©ì ê²½í—˜ì„ ê·¹ëŒ€í™”í•˜ëŠ” ì§ê´€ì ì´ê³  ë§¤ë ¥ì ì¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“œëŠ” ë° ì¤‘ì ì„ ë‘ê³  ìˆìŠµë‹ˆë‹¤.")
            Text("ì €ëŠ” Java, HTML, CSS, JavaScriptë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤ì–‘í•œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í–ˆìœ¼ë©°, ì´ë¥¼ í†µí•´ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ëª¨ë°”ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„¤ê³„ ë° êµ¬í˜„ ëŠ¥ë ¥ì„ í‚¤ì› ìŠµë‹ˆë‹¤. íŠ¹íˆ, Apple ì œí’ˆì— ëŒ€í•œ ê¹Šì€ ì´í•´ë¥¼ ë°”íƒ•ìœ¼ë¡œ, iOS ì•± ê°œë°œì— ëŒ€í•œ ê´€ì‹¬ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.")
            Text("ì œ í¬íŠ¸í´ë¦¬ì˜¤ì—ëŠ” ì—¬ëŸ¬ í”„ë¡œì íŠ¸ì˜ ì‚¬ë¡€ê°€ í¬í•¨ë˜ì–´ ìˆìœ¼ë©°, ì´ë“¤ì€ ë¬¸ì œ í•´ê²° ëŠ¥ë ¥ê³¼ ì°½ì˜ì„±ì„ ë³´ì—¬ì£¼ëŠ” ëŒ€í‘œì ì¸ ì˜ˆì…ë‹ˆë‹¤. ì•ìœ¼ë¡œë„ ê¸°ìˆ ì„ ì§€ì†ì ìœ¼ë¡œ ë°œì „ì‹œí‚¤ê³ , ë” ë‚˜ì€ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•˜ê¸° ìœ„í•´ ë…¸ë ¥í•˜ê² ìŠµë‹ˆë‹¤.")
            Text("ê°ì‚¬í•©ë‹ˆë‹¤!")
                .foregroundColor(.gray)
        }
    }
}

struct TechStackView: View {
    let techStacks = [
        ("HTML", "ğŸŒ", "https://developer.mozilla.org/en-US/docs/Web/HTML"),
        ("CSS", "ğŸ¨", "https://developer.mozilla.org/en-US/docs/Web/CSS"),
        ("JavaScript", "ğŸ–¥", "https://developer.mozilla.org/en-US/docs/Web/JavaScript"),
        ("C#", "ğŸ’»", "https://learn.microsoft.com/en-us/dotnet/csharp/"),
        ("Unity", "ğŸ®", "https://unity.com/")
    ]
    
    var body: some View {
        VStack(alignment: .leading, spacing: 15) {
            Text("ê¸°ìˆ  ìŠ¤íƒ")
                .font(.headline)
            
            ForEach(techStacks, id: \.0) { tech, emoji, url in
                Link(destination: URL(string: url)!) {
                    HStack {
                        Text(emoji)
                        Text(tech)
                            .font(.subheadline)
                            .foregroundColor(.primary)
                        Spacer()
                    }
                    .padding(.vertical, 8)
                    .padding(.horizontal, 12)
                    .background(Color(UIColor.systemGray6))
                    .cornerRadius(8)
                }
            }
        }
    }
}

struct ProjectsListView: View {
    var body: some View {
        VStack(alignment: .leading, spacing: 10) {
            Text("í”„ë¡œì íŠ¸")
                .font(.headline)
            
            ForEach(1...4, id: \.self) { index in
                Link(destination: URL(string: "https://www.notion.so/11f25fd1ee5580eab827d100adf1bb54?v=12025fd1ee55804082be000c6d00e6a7&pvs=4")!) {
                    HStack {
                        Image(systemName: "doc.text.image")
                            .resizable()
                            .aspectRatio(contentMode: .fit)
                            .frame(width: 60, height: 60)
                        VStack(alignment: .leading) {
                            Text("í”„ë¡œì íŠ¸ \(index)")
                                .font(.subheadline)
                            Text("ì„¤ëª… ë‚´ìš©")
                                .font(.caption)
                                .foregroundColor(.secondary)
                        }
                        Spacer()
                    }
                    .padding(.vertical, 8)
                    .background(Color(UIColor.systemGray6))
                    .cornerRadius(8)
                }
            }
        }
    }
}

struct WebCodeEditorView: View {
    @Binding var code: String
    @Binding var htmlCode: String
    
    var body: some View {
        VStack(alignment: .leading, spacing: 15) {
            Text("ì˜ˆì¬")
                .font(.headline)
            
            TextEditor(text: $code)
                .frame(height: 150)
                .border(Color(UIColor.systemGray3), width: 1)
                .padding(.bottom, 10)
            
            Button(action: {
                htmlCode = code
            }) {
                Text("ì½”ë“œ ì‹¤í–‰")
                    .font(.headline)
                    .padding()
                    .background(Color.blue)
                    .foregroundColor(.white)
                    .cornerRadius(10)
            }
            
            Text("HTML ì½”ë“œ ì‹¤í–‰ ê²°ê³¼")
                .font(.subheadline)
                .padding(.top, 10)
            
 WebView(html: $htmlCode)
 .frame(ë†’ì´: 250)
 .border(Color(UIColor.systemGray3), ë„ˆë¹„: 1)
 }
 }
}

ì›¹ë·° êµ¬ì¡°: UIViewëŒ€í‘œì„± {
 @Binding var html: ë¬¸ìì—´
 webView = WKwebView()ë¥¼ í—ˆìš©í•©ë‹ˆë‹¤.
    
 í‘í¬ ë©”ì´í‚¹UIView(context: ì»¨í…ìŠ¤íŠ¸) -> WKwebView {
 webView ë°˜í™˜
 }
    
 í‘í¬ ì—…ë°ì´íŠ¸UIView(_ uiView: WKì›¹ë·°, ì»¨í…ìŠ¤íŠ¸: ì»¨í…ìŠ¤íŠ¸) {
 uiView.loadHTMLString(html, baseURL: 0)
 }
}

Struct ContentView_ë¯¸ë¦¬ë³´ê¸°: ë¯¸ë¦¬ë³´ê¸° ì œê³µì—…ì²´ {
 ì •ì  var ë¯¸ë¦¬ë³´ê¸°: ì¼ë¶€ ë³´ê¸° {
 ì½˜í…ì¸  ë³´ê¸°()
 }
}
